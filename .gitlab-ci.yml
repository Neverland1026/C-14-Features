image: seo.disparate/gcc-runner:latest

cache:
    paths:
        - buildDebug/

stages:
    - build
    - test

buildJob:
    stage: build
    tags:
        - docker
    script:
        - mkdir buildDebug
        - cd buildDebug
        - cmake -DCMAKE_BUILD_TYPE=Debug -DBUILD_SHARED_LIBS=True ../src
        - make

testJob:
    stage: test
    tags:
        - docker
    script:
        - cd buildDebug
        - ./UnitTests

